<!--p>
  facsimile-tool works!
</p>
<p>
  a. Show Image Collections
</p>
<p>
  b. Connect an Image Collection to a Publication
</p>
<p>
  c. Create a new Image Collection
</p>
<p>
  d. Upload Images to an Image Collection
</p>
<p>
  e. Edit an Image Collection
</p-->
<app-facsimile-collection-grid *ngIf="selectedComponentTool === 'Image-Collections'"></app-facsimile-collection-grid>
<app-facsimile-upload *ngIf="selectedComponentTool === 'Image-Upload'"></app-facsimile-upload>
<div *ngIf="selectedComponentTool === 'Image-Connector'">
  <ion-item>
    <ion-label>Collections:</ion-label>
    <ion-select placeholder="Select Collection" [(ngModel)]="collectionId"  [value]="selectedCollectionId" (ionChange)="setCollectionId($event)">
      <ion-select-option [value]=""></ion-select-option>
      <ion-select-option *ngFor="let coll of collections" [value]="coll['id']">{{coll['name']}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-label>Publications:</ion-label>
    <ion-select placeholder="Select Publication" [(ngModel)]="publicationId"  [value]="selectedPublicationId" (ionChange)="setPublicationId($event)">
      <ion-select-option [value]=""></ion-select-option>
      <ion-select-option *ngFor="let coll of publications" [value]="coll['id']">{{coll['name']}}</ion-select-option>
    </ion-select>
  </ion-item>
  <ion-item>
    <!-- Check if we already have facsimiles connected -->
    <ion-grid *ngIf="facsimilePublications !== undefined && facsimilePublications.length > 0">
      <ion-row *ngFor="let facsimile of facsimilePublications" (click)="selectFacsimilePublication(facsimile)">
        <ion-col>
          <div>
            {{facsimile.title}}
          </div>
        </ion-col>
        <ion-col *ngIf="facsimile.publication_manuscript_id !== null">
          <div>
            Manuscript
          </div>
        </ion-col>
        <ion-col *ngIf="facsimile.publication_version_id !== null">
          <div>
            Version
          </div>
        </ion-col>
        <ion-col *ngIf="facsimile.publication_manuscript_id === null && facsimile.publication_version_id === null">
          <div>
            Publication
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!-- if we dont have any connected facsimiles, ask to create one -->
  </ion-item>
  <ion-button *ngIf="selectedPublicationId" (click)="addNewFacsimileCollection()">Add new Facsimile Collection (type)</ion-button>
  <ion-item>
    <ion-grid *ngIf="selectedFacsimile">
      <ion-row>
        <ion-col *ngFor="let image of facsimileImageUrls">
          <div class="facsimile_img">
            <img src="{{image}}" alt="facsimile image"/>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
</div>

